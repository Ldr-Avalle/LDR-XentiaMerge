tableextension 50220 "SalesHeader_LDR" extends "Sales Header"
{
    DataCaptionFields = "Document Type";

    fields
    {
        modify("Shortcut Dimension 1 Code")
        {
            TableRelation = "Dimension Value".Code WHERE("Global Dimension No." = CONST(1));
        }
        modify("Shortcut Dimension 2 Code")
        {
            TableRelation = "Dimension Value".Code WHERE("Global Dimension No." = CONST(2));
        }
        modify("Gen. Bus. Posting Group")
        {
            Caption = 'Gen. Bus. Posting Group';
        }
        modify("Area")
        {
            Caption = 'Area';
        }
        modify("VAT Bus. Posting Group")
        {
            Caption = 'VAT Bus. Posting Group';
        }
        modify("Get Shipment Used")
        {
            Caption = 'Get Shipment Used';
        }
        modify("Invoice Type")
        {
            OptionCaption = 'F1 Invoice,F2 Simplified Invoice,F3 Invoice issued to replace simplified invoices,F4 Invoice summary entry';
        }
        field(50009; "Factura Simplificada"; Option)
        {
            Caption = 'Factura Simplificada';
            Description = 'TBAI_AL_01 factura simplificada';
            OptionCaption = 'No,SÃ­';
            OptionMembers = N,S;
        }
        field(50099; FacturaFin; Code[20])
        {
        }
        field(50100; SendToTicketBAI; Boolean)
        {
            Caption = 'Enviar Factura a Ticket BAI';
            Description = 'TBAI_AL_01';
        }
    }

    procedure ShowShortcutDimCode(var ShortcutDimCode: array[8] of Code[20])
    begin
        DimMgt.GetShortcutDimensions("Dimension Set ID", ShortcutDimCode);
    end;

    local procedure InitSii()
    var
        GeneralLedgerSetup: Record 98;
        SIIManagement: Codeunit 10756;
    begin
        GeneralLedgerSetup.GET;
        IF GeneralLedgerSetup."VAT Cash Regime" THEN
            "Special Scheme Code" := "Special Scheme Code"::"07 Special Cash"
        ELSE
            IF "Sell-to Customer No." <> '' THEN
                IF Cust.GET("Sell-to Customer No.") THEN
                    IF SIIManagement.CountryIsLocal("VAT Country/Region Code") OR
                       SIIManagement.CustomerIsIntraCommunity(Cust."No.")
                    THEN
                        "Special Scheme Code" := "Special Scheme Code"::"01 General"
                    ELSE
                        "Special Scheme Code" := "Special Scheme Code"::"02 Export";
    end;

    var
        Opp: Record 5092;
        UserDims: Record 50000;
        UserDimensions: Record 50000;
        Opp: Record 5092;
        TempOpportunityEntry: Record 5093 temporary;
        UserDims: Record 50000;
        ArchiveManagement: Codeunit 5063;
        Text000: Label 'Do you want to print shipment %1?';
        Text001: Label 'Do you want to print invoice %1?';
        Text002: Label 'Do you want to print credit memo %1?';
        Text018: Label 'You have changed %1 on the sales header, but it has not been changed on the existing sales lines.\';
        Text020: Label 'The change may affect the exchange rate used in the price calculation of the sales lines.';
        Text023: Label 'Do you want to print return receipt %1?';
        Text043: Label 'Wizard Aborted';
        Text055: Label 'Do you want to print prepayment invoice %1?';
        Text054: Label 'Do you want to print prepayment credit memo %1?';
        Text071: Label 'There are unpaid prepayment invoices that are related to the document of type %1 with the number %2.';
        Text1100002: Label 'The %1 does not exist. \Identification fields and values:\%1 = %2';
}